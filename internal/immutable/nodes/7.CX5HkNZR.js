import{n as Ne,r as ze,c as be,m as tt,d as Ge}from"../chunks/scheduler.CgEFyQ-S.js";import{S as Be,i as Oe,e as v,t as ee,s as S,c as ne,a as g,b as y,g as te,h as m,f as q,d as re,j as r,k as we,l as n,u as le,m as ae,v as G,w as Ke,n as se,o as M,x as Se,p as W,y as qe,q as oe,r as st,C as Fe,D as lt}from"../chunks/index.C1nFEm3C.js";import{L as Ue}from"../chunks/i18n-svelte.DO6JJ3x7.js";import{I as _e,a as Qe,S as Xe,b as Ye,O as Ze,c as ve,v as ge,h as xe}from"../chunks/InputResults.zUOmB-mT.js";import{d as et}from"../chunks/debounce.4TgQRKMW.js";import{b as nt,C as rt,d as at,g as ot,A as ut,e as Me}from"../chunks/index.C1jzUpoF.js";import{p as it,s as ct,h as ft,b as pt}from"../chunks/httpAccess.oZ7xIxns.js";import{g as dt}from"../chunks/entry.pAbHNRQA.js";import{b as ht}from"../chunks/paths.DhCfJFuN.js";function Je(e){let s,t,l,u;return l=new Xe({}),{c(){s=v("div"),t=v("div"),ne(l.$$.fragment),this.h()},l(a){s=g(a,"DIV",{class:!0});var p=y(s);t=g(p,"DIV",{class:!0});var o=y(t);re(l.$$.fragment,o),o.forEach(m),p.forEach(m),this.h()},h(){r(t,"class","inline-block h-6 w-6"),r(s,"class","mr-2 flex flex-row justify-center")},m(a,p){we(a,s,p),n(s,t),ae(l,t,null),u=!0},i(a){u||(M(l.$$.fragment,a),u=!0)},o(a){W(l.$$.fragment,a),u=!1},d(a){a&&m(s),oe(l)}}}function mt(e){let s,t,l,u=e[2].connect.hostLabel()+"",a,p,o,D,$,k,b,d,w,I,N=e[2].connect.sslLabel()+"",U,z,i,T,P,C,K,B,c,R=e[2].connect.idLabel()+"",L,j,E,x,Q,V,h,A,O,X,Y=e[2].connect.passwordLabel()+"",fe,pe,H,Ie,Pe,Ae,ce,Ve,de,Z,Te,Ee=e[2].connect.connect()+"",Ce,J,De,je;b=new _e({props:{name:"host",result:e[1]}}),C=new _e({props:{name:"ssl",result:e[1]}}),h=new _e({props:{name:"id",result:e[1]}}),ce=new _e({props:{name:"password",result:e[1]}});let F=e[0]&&Je();return{c(){s=v("form"),t=v("div"),l=v("label"),a=ee(u),p=S(),o=v("input"),k=S(),ne(b.$$.fragment),d=S(),w=v("div"),I=v("label"),U=ee(N),z=S(),i=v("input"),P=S(),ne(C.$$.fragment),K=S(),B=v("div"),c=v("label"),L=ee(R),j=S(),E=v("input"),V=S(),ne(h.$$.fragment),A=S(),O=v("div"),X=v("label"),fe=ee(Y),pe=S(),H=v("input"),Ae=S(),ne(ce.$$.fragment),Ve=S(),de=v("div"),Z=v("button"),F&&F.c(),Te=S(),Ce=ee(Ee),this.h()},l(f){s=g(f,"FORM",{});var _=y(s);t=g(_,"DIV",{class:!0});var ue=y(t);l=g(ue,"LABEL",{for:!0});var ke=y(l);a=te(ke,u),ke.forEach(m),p=q(ue),o=g(ue,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),k=q(ue),re(b.$$.fragment,ue),ue.forEach(m),d=q(_),w=g(_,"DIV",{class:!0});var ie=y(w);I=g(ie,"LABEL",{for:!0});var Le=y(I);U=te(Le,N),Le.forEach(m),z=q(ie),i=g(ie,"INPUT",{class:!0,type:!0,name:!0}),P=q(ie),re(C.$$.fragment,ie),ie.forEach(m),K=q(_),B=g(_,"DIV",{class:!0});var he=y(B);c=g(he,"LABEL",{for:!0});var $e=y(c);L=te($e,R),$e.forEach(m),j=q(he),E=g(he,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),V=q(he),re(h.$$.fragment,he),he.forEach(m),A=q(_),O=g(_,"DIV",{class:!0});var me=y(O);X=g(me,"LABEL",{for:!0});var He=y(X);fe=te(He,Y),He.forEach(m),pe=q(me),H=g(me,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),Ae=q(me),re(ce.$$.fragment,me),me.forEach(m),Ve=q(_),de=g(_,"DIV",{class:!0});var Re=y(de);Z=g(Re,"BUTTON",{type:!0,class:!0});var ye=y(Z);F&&F.l(ye),Te=q(ye),Ce=te(ye,Ee),ye.forEach(m),Re.forEach(m),_.forEach(m),this.h()},h(){r(l,"for","host"),r(o,"class",D="w-full "+e[7]("host")),r(o,"type","text"),r(o,"name","host"),r(o,"placeholder",$=e[2].connect.hostPlaceholder()),r(t,"class","mb-2"),r(I,"for","ssl"),r(i,"class",T=e[7]("ssl")),r(i,"type","checkbox"),r(i,"name","ssl"),r(w,"class","mb-2"),r(c,"for","host"),r(E,"class",x="w-full "+e[7]("id")),r(E,"type","text"),r(E,"name","id"),r(E,"autocomplete","username"),r(E,"placeholder",Q=e[2].connect.idPlaceholder()),r(B,"class","mb-2"),r(X,"for","host"),r(H,"class",Ie="w-full "+e[7]("password")),r(H,"type","password"),r(H,"name","password"),r(H,"autocomplete","current-password"),r(H,"placeholder",Pe=e[2].connect.passwordPlaceholder()),r(O,"class","mb-2"),r(Z,"type","submit"),r(Z,"class","btn primary flex flex-shrink"),Z.disabled=e[8],r(de,"class","flex flex-row justify-end")},m(f,_){we(f,s,_),n(s,t),n(t,l),n(l,a),n(t,p),n(t,o),le(o,e[6]),n(t,k),ae(b,t,null),n(s,d),n(s,w),n(w,I),n(I,U),n(w,z),n(w,i),i.checked=e[5],n(w,P),ae(C,w,null),n(s,K),n(s,B),n(B,c),n(c,L),n(B,j),n(B,E),le(E,e[4]),n(B,V),ae(h,B,null),n(s,A),n(s,O),n(O,X),n(X,fe),n(O,pe),n(O,H),le(H,e[3]),n(O,Ae),ae(ce,O,null),n(s,Ve),n(s,de),n(de,Z),F&&F.m(Z,null),n(Z,Te),n(Z,Ce),J=!0,De||(je=[G(o,"input",e[14]),G(o,"input",e[9]),G(i,"change",e[15]),G(i,"input",e[9]),G(E,"input",e[16]),G(E,"input",e[9]),G(H,"input",e[17]),G(H,"input",e[9]),G(s,"submit",Ke(e[10]))],De=!0)},p(f,[_]){(!J||_&4)&&u!==(u=f[2].connect.hostLabel()+"")&&se(a,u),(!J||_&128&&D!==(D="w-full "+f[7]("host")))&&r(o,"class",D),(!J||_&4&&$!==($=f[2].connect.hostPlaceholder()))&&r(o,"placeholder",$),_&64&&o.value!==f[6]&&le(o,f[6]);const ue={};_&2&&(ue.result=f[1]),b.$set(ue),(!J||_&4)&&N!==(N=f[2].connect.sslLabel()+"")&&se(U,N),(!J||_&128&&T!==(T=f[7]("ssl")))&&r(i,"class",T),_&32&&(i.checked=f[5]);const ke={};_&2&&(ke.result=f[1]),C.$set(ke),(!J||_&4)&&R!==(R=f[2].connect.idLabel()+"")&&se(L,R),(!J||_&128&&x!==(x="w-full "+f[7]("id")))&&r(E,"class",x),(!J||_&4&&Q!==(Q=f[2].connect.idPlaceholder()))&&r(E,"placeholder",Q),_&16&&E.value!==f[4]&&le(E,f[4]);const ie={};_&2&&(ie.result=f[1]),h.$set(ie),(!J||_&4)&&Y!==(Y=f[2].connect.passwordLabel()+"")&&se(fe,Y),(!J||_&128&&Ie!==(Ie="w-full "+f[7]("password")))&&r(H,"class",Ie),(!J||_&4&&Pe!==(Pe=f[2].connect.passwordPlaceholder()))&&r(H,"placeholder",Pe),_&8&&H.value!==f[3]&&le(H,f[3]);const Le={};_&2&&(Le.result=f[1]),ce.$set(Le),f[0]?F?_&1&&M(F,1):(F=Je(),F.c(),M(F,1),F.m(Z,Te)):F&&(Se(),W(F,1,1,()=>{F=null}),qe()),(!J||_&4)&&Ee!==(Ee=f[2].connect.connect()+"")&&se(Ce,Ee),(!J||_&256)&&(Z.disabled=f[8])},i(f){J||(M(b.$$.fragment,f),M(C.$$.fragment,f),M(h.$$.fragment,f),M(ce.$$.fragment,f),M(F),J=!0)},o(f){W(b.$$.fragment,f),W(C.$$.fragment,f),W(h.$$.fragment,f),W(ce.$$.fragment,f),W(F),J=!1},d(f){f&&m(s),oe(b),oe(C),oe(h),oe(ce),F&&F.d(),De=!1,ze(je)}}}const _t=e=>Ye((s={},t)=>{t.length&&(Ze(t),ve("host",e.errors.message.required(),()=>{ge(s.host).isNotBlank()}),ve("ssl",e.errors.message.required(),()=>{ge(s.ssl).isNotBlank()}),ve("id",e.errors.message.required(),()=>{ge(s.id).isNotBlank()}),ve("password",e.errors.message.required(),()=>{ge(s.password).isNotBlank()}))});function vt(e,s,t){let l,u,a,p,o,D,$,k,b,d;be(e,Ue,c=>t(2,b=c)),be(e,it,c=>t(13,d=c));let{onConnect:w}=s;const I=new Set,N=et(()=>{o({host:l,ssl:u,id:a,password:p},Array.from(I)).done(c=>{t(1,D=c)}),I.clear()},300);function U(){I.add("host"),I.add("ssl"),I.add("id"),I.add("password"),N(),N.flush()}function z(c){c.currentTarget.value=c.currentTarget.value,I.add(c.currentTarget.name),N()}let i=!1;async function T(c){try{if(t(0,i=!0),U(),D.isValid()){const R={host:l,ssl:u,id:a,password:p};await nt(R),ct(R),await w(R)}}catch(R){await xe(R)}finally{t(0,i=!1)}}function P(){l=this.value,t(6,l),t(13,d)}function C(){u=this.checked,t(5,u),t(13,d)}function K(){a=this.value,t(4,a),t(13,d)}function B(){p=this.value,t(3,p),t(13,d)}return e.$$set=c=>{"onConnect"in c&&t(11,w=c.onConnect)},e.$$.update=()=>{e.$$.dirty&8192&&t(6,l=(d==null?void 0:d.host)||"p2p.aicacia.com"),e.$$.dirty&8192&&t(5,u=(d==null?void 0:d.ssl)!==!1),e.$$.dirty&8192&&t(4,a=(d==null?void 0:d.id)||""),e.$$.dirty&8192&&t(3,p=(d==null?void 0:d.password)||""),e.$$.dirty&4&&t(12,o=_t(b)),e.$$.dirty&4096&&t(1,D=o.get()),e.$$.dirty&1&&t(8,$=i),e.$$.dirty&2&&t(7,k=Qe(D,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[i,D,b,p,a,u,l,k,$,z,T,w,o,d,P,C,K,B]}class gt extends Be{constructor(s){super(),Oe(this,s,vt,mt,Ne,{onConnect:11})}}function We(e){let s,t,l,u;return l=new Xe({}),{c(){s=v("div"),t=v("div"),ne(l.$$.fragment),this.h()},l(a){s=g(a,"DIV",{class:!0});var p=y(s);t=g(p,"DIV",{class:!0});var o=y(t);re(l.$$.fragment,o),o.forEach(m),p.forEach(m),this.h()},h(){r(t,"class","inline-block h-6 w-6"),r(s,"class","mr-2 flex flex-row justify-center")},m(a,p){we(a,s,p),n(s,t),ae(l,t,null),u=!0},i(a){u||(M(l.$$.fragment,a),u=!0)},o(a){W(l.$$.fragment,a),u=!1},d(a){a&&m(s),oe(l)}}}function bt(e){let s,t,l,u=e[2].connect.hostLabel()+"",a,p,o,D,$,k,b,d,w,I,N=e[2].connect.sslLabel()+"",U,z,i,T,P,C,K,B,c,R,L=e[2].connect.connect()+"",j,E,x,Q;b=new _e({props:{name:"host",result:e[1]}}),C=new _e({props:{name:"ssl",result:e[1]}});let V=e[0]&&We();return{c(){s=v("form"),t=v("div"),l=v("label"),a=ee(u),p=S(),o=v("input"),k=S(),ne(b.$$.fragment),d=S(),w=v("div"),I=v("label"),U=ee(N),z=S(),i=v("input"),P=S(),ne(C.$$.fragment),K=S(),B=v("div"),c=v("button"),V&&V.c(),R=S(),j=ee(L),this.h()},l(h){s=g(h,"FORM",{});var A=y(s);t=g(A,"DIV",{class:!0});var O=y(t);l=g(O,"LABEL",{for:!0});var X=y(l);a=te(X,u),X.forEach(m),p=q(O),o=g(O,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),k=q(O),re(b.$$.fragment,O),O.forEach(m),d=q(A),w=g(A,"DIV",{class:!0});var Y=y(w);I=g(Y,"LABEL",{for:!0});var fe=y(I);U=te(fe,N),fe.forEach(m),z=q(Y),i=g(Y,"INPUT",{class:!0,type:!0,name:!0}),P=q(Y),re(C.$$.fragment,Y),Y.forEach(m),K=q(A),B=g(A,"DIV",{class:!0});var pe=y(B);c=g(pe,"BUTTON",{type:!0,class:!0});var H=y(c);V&&V.l(H),R=q(H),j=te(H,L),H.forEach(m),pe.forEach(m),A.forEach(m),this.h()},h(){r(l,"for","host"),r(o,"class",D="w-full "+e[5]("host")),r(o,"type","text"),r(o,"name","host"),r(o,"placeholder",$=e[2].connect.hostPlaceholder()),r(t,"class","mb-2"),r(I,"for","ssl"),r(i,"class",T=e[5]("ssl")),r(i,"type","checkbox"),r(i,"name","ssl"),r(w,"class","mb-2"),r(c,"type","submit"),r(c,"class","btn primary flex flex-shrink"),c.disabled=e[6],r(B,"class","flex flex-row justify-end")},m(h,A){we(h,s,A),n(s,t),n(t,l),n(l,a),n(t,p),n(t,o),le(o,e[4]),n(t,k),ae(b,t,null),n(s,d),n(s,w),n(w,I),n(I,U),n(w,z),n(w,i),i.checked=e[3],n(w,P),ae(C,w,null),n(s,K),n(s,B),n(B,c),V&&V.m(c,null),n(c,R),n(c,j),E=!0,x||(Q=[G(o,"input",e[12]),G(o,"input",e[7]),G(i,"change",e[13]),G(i,"input",e[7]),G(s,"submit",Ke(e[8]))],x=!0)},p(h,[A]){(!E||A&4)&&u!==(u=h[2].connect.hostLabel()+"")&&se(a,u),(!E||A&32&&D!==(D="w-full "+h[5]("host")))&&r(o,"class",D),(!E||A&4&&$!==($=h[2].connect.hostPlaceholder()))&&r(o,"placeholder",$),A&16&&o.value!==h[4]&&le(o,h[4]);const O={};A&2&&(O.result=h[1]),b.$set(O),(!E||A&4)&&N!==(N=h[2].connect.sslLabel()+"")&&se(U,N),(!E||A&32&&T!==(T=h[5]("ssl")))&&r(i,"class",T),A&8&&(i.checked=h[3]);const X={};A&2&&(X.result=h[1]),C.$set(X),h[0]?V?A&1&&M(V,1):(V=We(),V.c(),M(V,1),V.m(c,R)):V&&(Se(),W(V,1,1,()=>{V=null}),qe()),(!E||A&4)&&L!==(L=h[2].connect.connect()+"")&&se(j,L),(!E||A&64)&&(c.disabled=h[6])},i(h){E||(M(b.$$.fragment,h),M(C.$$.fragment,h),M(V),E=!0)},o(h){W(b.$$.fragment,h),W(C.$$.fragment,h),W(V),E=!1},d(h){h&&m(s),oe(b),oe(C),V&&V.d(),x=!1,ze(Q)}}}const wt=e=>Ye((s={},t)=>{t.length&&(Ze(t),ve("host",e.errors.message.required(),()=>{ge(s.host).isNotBlank()}),ve("ssl",e.errors.message.required(),()=>{ge(s.ssl).isNotBlank()}))});function Et(e,s,t){let l,u,a,p,o,D,$,k;be(e,Ue,P=>t(2,$=P)),be(e,ft,P=>t(11,k=P));let{onConnect:b}=s;const d=new Set,w=et(()=>{a({host:l,ssl:u},Array.from(d)).done(P=>{t(1,p=P)}),d.clear()},300);function I(){d.add("host"),d.add("ssl"),w(),w.flush()}function N(P){P.currentTarget.value=P.currentTarget.value,d.add(P.currentTarget.name),w()}let U=!1;async function z(P){try{if(t(0,U=!0),I(),p.isValid()){const C={host:l,ssl:u},K=new rt({...at,basePath:ot(C.host,C.ssl)});await new ut(K).version(),pt(C),await b(C)}}catch(C){await xe(C)}finally{t(0,U=!1)}}function i(){l=this.value,t(4,l),t(11,k)}function T(){u=this.checked,t(3,u),t(11,k)}return e.$$set=P=>{"onConnect"in P&&t(9,b=P.onConnect)},e.$$.update=()=>{e.$$.dirty&2048&&t(4,l=(k==null?void 0:k.host)||"127.0.0.1:3000"),e.$$.dirty&2048&&t(3,u=(k==null?void 0:k.ssl)||!1),e.$$.dirty&4&&t(10,a=wt($)),e.$$.dirty&1024&&t(1,p=a.get()),e.$$.dirty&1&&t(6,o=U),e.$$.dirty&2&&t(5,D=Qe(p,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[U,p,$,u,l,D,o,N,z,b,a,k,i,T]}class kt extends Be{constructor(s){super(),Oe(this,s,Et,bt,Ne,{onConnect:9})}}function Lt(e){let s,t;return s=new kt({props:{onConnect:e[2]}}),{c(){ne(s.$$.fragment)},l(l){re(s.$$.fragment,l)},m(l,u){ae(s,l,u),t=!0},p:Ge,i(l){t||(M(s.$$.fragment,l),t=!0)},o(l){W(s.$$.fragment,l),t=!1},d(l){oe(s,l)}}}function It(e){let s,t;return s=new gt({props:{onConnect:e[2]}}),{c(){ne(s.$$.fragment)},l(l){re(s.$$.fragment,l)},m(l,u){ae(s,l,u),t=!0},p:Ge,i(l){t||(M(s.$$.fragment,l),t=!0)},o(l){W(s.$$.fragment,l),t=!1},d(l){oe(s,l)}}}function Pt(e){let s,t,l,u,a,p,o=e[0].connect.connect()+"",D,$,k,b,d=e[0].connect.httpAccess()+"",w,I,N=e[0].connect.p2pAccess()+"",U,z,i,T,P,C,K;document.title=s=e[0].connect.connect();const B=[It,Lt],c=[];function R(L,j){return L[1]==="p2p"?0:L[1]==="http"?1:-1}return~(i=R(e))&&(T=c[i]=B[i](e)),{c(){t=S(),l=v("div"),u=v("div"),a=v("div"),p=v("h1"),D=ee(o),$=S(),k=v("select"),b=v("option"),w=ee(d),I=v("option"),U=ee(N),z=S(),T&&T.c(),this.h()},l(L){st("svelte-l958id",document.head).forEach(m),t=q(L),l=g(L,"DIV",{class:!0});var E=y(l);u=g(E,"DIV",{class:!0});var x=y(u);a=g(x,"DIV",{class:!0});var Q=y(a);p=g(Q,"H1",{class:!0});var V=y(p);D=te(V,o),V.forEach(m),$=q(Q),k=g(Q,"SELECT",{name:!0});var h=y(k);b=g(h,"OPTION",{});var A=y(b);w=te(A,d),A.forEach(m),I=g(h,"OPTION",{});var O=y(I);U=te(O,N),O.forEach(m),h.forEach(m),z=q(Q),T&&T.l(Q),Q.forEach(m),x.forEach(m),E.forEach(m),this.h()},h(){r(p,"class","mb-1"),b.__value="http",le(b,b.__value),I.__value="p2p",le(I,I.__value),r(k,"name","access"),e[1]===void 0&&tt(()=>e[3].call(k)),r(a,"class","flex flex-grow flex-col bg-white p-4 shadow dark:bg-gray-800"),r(u,"class","mx-auto flex w-full flex-shrink flex-col p-4 py-10 md:w-72"),r(l,"class","flex flex-grow flex-col justify-end md:justify-start")},m(L,j){we(L,t,j),we(L,l,j),n(l,u),n(u,a),n(a,p),n(p,D),n(a,$),n(a,k),n(k,b),n(b,w),n(k,I),n(I,U),Fe(k,e[1],!0),n(a,z),~i&&c[i].m(a,null),P=!0,C||(K=G(k,"change",e[3]),C=!0)},p(L,[j]){(!P||j&1)&&s!==(s=L[0].connect.connect())&&(document.title=s),(!P||j&1)&&o!==(o=L[0].connect.connect()+"")&&se(D,o),(!P||j&1)&&d!==(d=L[0].connect.httpAccess()+"")&&se(w,d),(!P||j&1)&&N!==(N=L[0].connect.p2pAccess()+"")&&se(U,N),j&2&&Fe(k,L[1]);let E=i;i=R(L),i===E?~i&&c[i].p(L,j):(T&&(Se(),W(c[E],1,1,()=>{c[E]=null}),qe()),~i?(T=c[i],T?T.p(L,j):(T=c[i]=B[i](L),T.c()),M(T,1),T.m(a,null)):T=null)},i(L){P||(M(T),P=!0)},o(L){W(T),P=!1},d(L){L&&(m(t),m(l)),~i&&c[i].d(),C=!1,K()}}}function Tt(e,s,t){let l,u;be(e,Ue,o=>t(0,l=o)),be(e,Me,o=>t(1,u=o));async function a(){await dt(`${ht}/`)}function p(){u=lt(this),Me.set(u)}return[l,u,a,p]}class qt extends Be{constructor(s){super(),Oe(this,s,Tt,Pt,Ne,{})}}export{qt as component};
