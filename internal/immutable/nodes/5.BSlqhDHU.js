import{c as Ve,a as je}from"../chunks/index.i2-0N6lS.js";import{f as we,m as q,q as G,a as K,u as X,g as F,b as J,n as ne,w as Ce,v as $e,r as Ue,l as ae,d as B,o as Le,x as Ne,c as Oe,i as Me}from"../chunks/scheduler.Bu9aYH8f.js";import{S as T,i as z,c as O,d as M,m as P,o as w,p as V,q as S,e as $,s as L,a as y,b as D,f as N,h as _,j as E,k as U,l as k,y as Q,w as R,E as W,K as Y,G as ee,I as Pe,u as Se,H as qe,r as Te,t as te,g as le,n as se,v as Z}from"../chunks/index.QYv70b3f.js";import{e as x,u as ye,o as ze,d as Ae}from"../chunks/each.C8Rgkwia.js";import{L as He}from"../chunks/i18n-svelte.DgV7mMaz.js";import{I as Ee,g as Ie,a as De}from"../chunks/Icon.CkcrXJuI.js";import{p as Be,D as Ge}from"../chunks/Dropdown.CcNYrred.js";import{f as ce,a as de}from"../chunks/index.DHw_VhY_.js";const Ke=async o=>({cameras:await Ve.cameras()}),bt=Object.freeze(Object.defineProperty({__proto__:null,load:Ke},Symbol.toStringTag,{value:"Module"}));function Xe(o){let e;const s=o[2].default,t=K(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&X(t,s,l,l[3],e?J(s,l[3],n,null):F(l[3]),null)},i(l){e||(w(t,l),e=!0)},o(l){V(t,l),e=!1},d(l){t&&t.d(l)}}}function Fe(o){let e,s;const t=[{name:"play"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Xe]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=q(l,t[n]);return e=new Ee({props:l}),{c(){O(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){P(e,n,a),s=!0},p(n,[a]){const r=a&3?Ie(t,[t[0],a&2&&De(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(w(e.$$.fragment,n),s=!0)},o(n){V(e.$$.fragment,n),s=!1},d(n){S(e,n)}}}function Je(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["polygon",{points:"6 3 20 12 6 21 6 3"}]];return o.$$set=a=>{s(1,e=q(q({},e),G(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=G(e),[n,e,t,l]}class Qe extends T{constructor(e){super(),z(this,e,Je,Fe,we,{})}}function Re(o){let e;const s=o[2].default,t=K(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&X(t,s,l,l[3],e?J(s,l[3],n,null):F(l[3]),null)},i(l){e||(w(t,l),e=!0)},o(l){V(t,l),e=!1},d(l){t&&t.d(l)}}}function We(o){let e,s;const t=[{name:"x"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Re]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=q(l,t[n]);return e=new Ee({props:l}),{c(){O(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){P(e,n,a),s=!0},p(n,[a]){const r=a&3?Ie(t,[t[0],a&2&&De(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(w(e.$$.fragment,n),s=!0)},o(n){V(e.$$.fragment,n),s=!1},d(n){S(e,n)}}}function Ye(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return o.$$set=a=>{s(1,e=q(q({},e),G(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=G(e),[n,e,t,l]}class Ze extends T{constructor(e){super(),z(this,e,Ye,We,we,{})}}const xe=o=>({}),_e=o=>({});function me(o){let e,s,t;return{c(){e=$("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),D(e).forEach(_),this.h()},h(){E(e,"class","fixed inset-0 bg-black bg-opacity-25"),W(e,"hidden",o[2]?!o[0]:!0)},m(l,n){U(l,e,n),t=!0},p(l,n){(!t||n&5)&&W(e,"hidden",l[2]?!l[0]:!0)},i(l){t||(l&&$e(()=>{t&&(s||(s=Y(e,ce,{duration:150},!0)),s.run(1))}),t=!0)},o(l){l&&(s||(s=Y(e,ce,{duration:150},!1)),s.run(0)),t=!1},d(l){l&&_(e),l&&s&&s.end()}}}function he(o){let e,s,t,l,n,a,r,i,c,g,v,b,p,m,C;const u=o[9].title,f=K(u,o,o[8],_e);c=new Ze({});const h=o[9].default,I=K(h,o,o[8],null);return{c(){e=$("div"),s=$("div"),t=$("div"),l=$("div"),n=$("div"),f&&f.c(),a=L(),r=$("button"),i=$("div"),O(c.$$.fragment),g=L(),v=$("div"),I&&I.c(),this.h()},l(d){e=y(d,"DIV",{class:!0});var j=D(e);s=y(j,"DIV",{class:!0});var oe=D(s);t=y(oe,"DIV",{class:!0});var A=D(t);l=y(A,"DIV",{class:!0});var H=D(l);n=y(H,"DIV",{class:!0});var re=D(n);f&&f.l(re),re.forEach(_),a=N(H),r=y(H,"BUTTON",{class:!0});var ie=D(r);i=y(ie,"DIV",{class:!0});var fe=D(i);M(c.$$.fragment,fe),fe.forEach(_),ie.forEach(_),H.forEach(_),g=N(A),v=y(A,"DIV",{class:!0});var ue=D(v);I&&I.l(ue),ue.forEach(_),A.forEach(_),oe.forEach(_),j.forEach(_),this.h()},h(){E(n,"class","flex flex-grow flex-col"),E(i,"class","h-6 w-6"),E(r,"class","btn icon"),E(l,"class","flex flex-shrink flex-row items-start justify-between px-4 pt-4"),E(v,"class","relative flex-grow flex-col px-4 pb-4 pt-0"),E(t,"class","relative w-full rounded bg-white shadow-lg sm:my-8 sm:max-w-lg dark:bg-gray-800"),W(t,"m-auto",o[1]),E(s,"class","flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"),E(e,"class","fixed inset-0 overflow-y-auto")},m(d,j){U(d,e,j),k(e,s),k(s,t),k(t,l),k(l,n),f&&f.m(n,null),k(l,a),k(l,r),k(r,i),P(c,i,null),k(t,g),k(t,v),I&&I.m(v,null),o[10](t),p=!0,m||(C=[ee(r,"click",Pe(o[4])),ee(e,"pointerdown",o[5])],m=!0)},p(d,j){f&&f.p&&(!p||j&256)&&X(f,u,d,d[8],p?J(u,d[8],j,xe):F(d[8]),_e),I&&I.p&&(!p||j&256)&&X(I,h,d,d[8],p?J(h,d[8],j,null):F(d[8]),null),(!p||j&2)&&W(t,"m-auto",d[1])},i(d){p||(w(f,d),w(c.$$.fragment,d),w(I,d),d&&$e(()=>{p&&(b||(b=Y(e,de,{duration:150,y:300},!0)),b.run(1))}),p=!0)},o(d){V(f,d),V(c.$$.fragment,d),V(I,d),d&&(b||(b=Y(e,de,{duration:150,y:300},!1)),b.run(0)),p=!1},d(d){d&&_(e),f&&f.d(d),S(c),I&&I.d(d),o[10](null),d&&b&&b.end(),m=!1,Ue(C)}}}function et(o){let e,s,t,l,n,a=o[0]&&me(o),r=o[0]&&he(o);return{c(){e=$("div"),a&&a.c(),s=L(),r&&r.c(),this.h()},l(i){e=y(i,"DIV",{class:!0,role:!0,"aria-modal":!0});var c=D(e);a&&a.l(c),s=N(c),r&&r.l(c),c.forEach(_),this.h()},h(){E(e,"class","relative"),E(e,"role","dialog"),E(e,"aria-modal","true")},m(i,c){U(i,e,c),a&&a.m(e,null),k(e,s),r&&r.m(e,null),t=!0,l||(n=Ce(Be.call(null,e)),l=!0)},p(i,[c]){i[0]?a?(a.p(i,c),c&1&&w(a,1)):(a=me(i),a.c(),w(a,1),a.m(e,s)):a&&(Q(),V(a,1,1,()=>{a=null}),R()),i[0]?r?(r.p(i,c),c&1&&w(r,1)):(r=he(i),r.c(),w(r,1),r.m(e,null)):r&&(Q(),V(r,1,1,()=>{r=null}),R())},i(i){t||(w(a),w(r),t=!0)},o(i){V(a),V(r),t=!1},d(i){i&&_(e),a&&a.d(),r&&r.d(),l=!1,n()}}}function tt(o,e,s){let{$$slots:t={},$$scope:l}=e,{onClose:n=()=>{}}=e,{small:a=!1}=e,{open:r=!1}=e,{backdrop:i=!0}=e,{backgroundClose:c=i}=e;function g(){s(0,r=!1),n()}let v;function b(m){if(c){if(v.contains(m.target)){m.stopPropagation();return}r&&(s(0,r=!1),n())}}function p(m){ae[m?"unshift":"push"](()=>{v=m,s(3,v)})}return o.$$set=m=>{"onClose"in m&&s(6,n=m.onClose),"small"in m&&s(1,a=m.small),"open"in m&&s(0,r=m.open),"backdrop"in m&&s(2,i=m.backdrop),"backgroundClose"in m&&s(7,c=m.backgroundClose),"$$scope"in m&&s(8,l=m.$$scope)},[r,a,i,v,g,b,n,c,l,t,p]}class lt extends T{constructor(e){super(),z(this,e,tt,et,ne,{onClose:6,small:1,open:0,backdrop:2,backgroundClose:7})}}function st(o){let e,s='<track kind="captions"/>';return{c(){e=$("video"),e.innerHTML=s,this.h()},l(t){e=y(t,"VIDEO",{class:!0,"data-svelte-h":!0}),Se(e)!=="svelte-jsai1z"&&(e.innerHTML=s),this.h()},h(){E(e,"class","w-full"),e.controls=!0,e.autoplay=!0},m(t,l){U(t,e,l),o[2](e)},p:B,i:B,o:B,d(t){t&&_(e),o[2](null)}}}function nt(o,e,s){let{rtspUrl:t}=e,l,n;Le(()=>(l=je("webrtcrtsp"),console.log(l),()=>{l==null||l.close()}));function a(r){ae[r?"unshift":"push"](()=>{n=r,s(0,n)})}return o.$$set=r=>{"rtspUrl"in r&&s(1,t=r.rtspUrl)},[n,t,a]}class at extends T{constructor(e){super(),z(this,e,nt,st,ne,{rtspUrl:1})}}function pe(o,e,s){const t=o.slice();return t[7]=e[s],t}function ge(o,e,s){const t=o.slice();return t[10]=e[s],t}function ve(o,e){let s,t=e[10]+"",l,n,a,r;return{key:o,first:null,c(){s=$("li"),l=te(t),n=L(),this.h()},l(i){s=y(i,"LI",{class:!0});var c=D(s);l=le(c,t),n=N(c),c.forEach(_),this.h()},h(){E(s,"class","flex cursor-pointer flex-row justify-between p-2 hover:bg-gray-200 dark:hover:bg-gray-600"),this.first=s},m(i,c){U(i,s,c),k(s,l),k(s,n),a||(r=ee(s,"click",function(){Me(e[5](e[7],e[10]))&&e[5](e[7],e[10]).apply(this,arguments)}),a=!0)},p(i,c){e=i,c&1&&t!==(t=e[10]+"")&&se(l,t)},d(i){i&&_(s),a=!1,r()}}}function ot(o){let e=[],s=new Map,t,l=x(Object.keys(o[7].mediaUris));const n=a=>a[10];for(let a=0;a<l.length;a+=1){let r=ge(o,l,a),i=n(r);s.set(i,e[a]=ve(i,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=Z()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);t=Z()},m(a,r){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,r);U(a,t,r)},p(a,r){r&33&&(l=x(Object.keys(a[7].mediaUris)),e=ye(e,r,n,1,a,l,s,t.parentNode,Ae,ve,t,ge))},d(a){a&&_(t);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function rt(o){let e,s;return e=new Qe({props:{slot:"button"}}),{c(){O(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){P(e,t,l),s=!0},p:B,i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function be(o,e){let s,t,l,n=e[7].name+"",a,r,i,c=e[7].updatedAt.toLocaleString()+"",g,v,b,p,m,C;return p=new Ge({props:{$$slots:{button:[rt],default:[ot]},$$scope:{ctx:e}}}),{key:o,first:null,c(){s=$("div"),t=$("div"),l=$("p"),a=te(n),r=L(),i=$("p"),g=te(c),v=L(),b=$("div"),O(p.$$.fragment),m=L(),this.h()},l(u){s=y(u,"DIV",{class:!0});var f=D(s);t=y(f,"DIV",{class:!0});var h=D(t);l=y(h,"P",{});var I=D(l);a=le(I,n),I.forEach(_),r=N(h),i=y(h,"P",{});var d=D(i);g=le(d,c),d.forEach(_),h.forEach(_),v=N(f),b=y(f,"DIV",{class:!0});var j=D(b);M(p.$$.fragment,j),j.forEach(_),m=N(f),f.forEach(_),this.h()},h(){E(t,"class","flex flex-row"),E(b,"class","flex flex-row"),E(s,"class","flex flex-row justify-between"),this.first=s},m(u,f){U(u,s,f),k(s,t),k(t,l),k(l,a),k(t,r),k(t,i),k(i,g),k(s,v),k(s,b),P(p,b,null),k(s,m),C=!0},p(u,f){e=u,(!C||f&1)&&n!==(n=e[7].name+"")&&se(a,n),(!C||f&1)&&c!==(c=e[7].updatedAt.toLocaleString()+"")&&se(g,c);const h={};f&8193&&(h.$$scope={dirty:f,ctx:e}),p.$set(h)},i(u){C||(w(p.$$.fragment,u),C=!0)},o(u){V(p.$$.fragment,u),C=!1},d(u){u&&_(s),S(p)}}}function ke(o){let e,s;return e=new at({props:{rtspUrl:o[2].mediaUris[o[3]]}}),{c(){O(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){P(e,t,l),s=!0},p(t,l){const n={};l&12&&(n.rtspUrl=t[2].mediaUris[t[3]]),e.$set(n)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function it(o){let e,s,t=o[2]&&o[3]&&ke(o);return{c(){t&&t.c(),e=Z()},l(l){t&&t.l(l),e=Z()},m(l,n){t&&t.m(l,n),U(l,e,n),s=!0},p(l,n){l[2]&&l[3]?t?(t.p(l,n),n&12&&w(t,1)):(t=ke(l),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(Q(),V(t,1,1,()=>{t=null}),R())},i(l){s||(w(t),s=!0)},o(l){V(t),s=!1},d(l){l&&_(e),t&&t.d(l)}}}function ft(o){let e,s,t,l,n,a=[],r=new Map,i,c,g,v;document.title=e=o[4].cameras.title();let b=x(o[0].cameras);const p=u=>u[7].hardwareId;for(let u=0;u<b.length;u+=1){let f=pe(o,b,u),h=p(f);r.set(h,a[u]=be(h,f))}function m(u){o[6](u)}let C={$$slots:{default:[it]},$$scope:{ctx:o}};return o[1]!==void 0&&(C.open=o[1]),c=new lt({props:C}),ae.push(()=>qe(c,"open",m)),{c(){s=L(),t=$("div"),l=$("div"),n=$("div");for(let u=0;u<a.length;u+=1)a[u].c();i=L(),O(c.$$.fragment),this.h()},l(u){Te("svelte-1uyq96z",document.head).forEach(_),s=N(u),t=y(u,"DIV",{class:!0});var h=D(t);l=y(h,"DIV",{class:!0});var I=D(l);n=y(I,"DIV",{class:!0});var d=D(n);for(let j=0;j<a.length;j+=1)a[j].l(d);d.forEach(_),I.forEach(_),h.forEach(_),i=N(u),M(c.$$.fragment,u),this.h()},h(){E(n,"class","flex flex-col"),E(l,"class","mx-auto mt-4 flex w-full max-w-6xl flex-shrink flex-col bg-white p-4 shadow dark:bg-gray-800"),E(t,"class","flex flex-col justify-end px-4 md:justify-start")},m(u,f){U(u,s,f),U(u,t,f),k(t,l),k(l,n);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(n,null);U(u,i,f),P(c,u,f),v=!0},p(u,[f]){(!v||f&16)&&e!==(e=u[4].cameras.title())&&(document.title=e),f&33&&(b=x(u[0].cameras),Q(),a=ye(a,f,p,1,u,b,r,n,ze,be,null,pe),R());const h={};f&8204&&(h.$$scope={dirty:f,ctx:u}),!g&&f&2&&(g=!0,h.open=u[1],Ne(()=>g=!1)),c.$set(h)},i(u){if(!v){for(let f=0;f<b.length;f+=1)w(a[f]);w(c.$$.fragment,u),v=!0}},o(u){for(let f=0;f<a.length;f+=1)V(a[f]);V(c.$$.fragment,u),v=!1},d(u){u&&(_(s),_(t),_(i));for(let f=0;f<a.length;f+=1)a[f].d();S(c,u)}}}function ut(o,e,s){let t;Oe(o,He,g=>s(4,t=g));let{data:l}=e,n=!1,a,r;function i(g,v){return()=>{s(1,n=!0),s(2,a=g),s(3,r=v)}}function c(g){n=g,s(1,n)}return o.$$set=g=>{"data"in g&&s(0,l=g.data)},[l,n,a,r,t,i,c]}class kt extends T{constructor(e){super(),z(this,e,ut,ft,ne,{data:0})}}export{kt as component,bt as universal};
