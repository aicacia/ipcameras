import{p as k,o as A}from"./index.DfAfitrp.js";import{r as C}from"./scheduler.CgEFyQ-S.js";function B(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function D(e,c){e.d(1),c.delete(e.key)}function j(e,c){k(e,1,1,()=>{c.delete(e.key)})}function E(e,c){e.f(),j(e,c)}function G(e,c,r,y,d,i,o,b,h,p,w,m){let t=e.length,u=i.length,s=t;const a={};for(;s--;)a[e[s].key]=s;const g=[],M=new Map,S=new Map,v=[];for(s=u;s--;){const n=m(d,i,s),l=r(n);let f=o.get(l);f?v.push(()=>f.p(n,c)):(f=p(l,n),f.c()),M.set(l,g[s]=f),l in a&&S.set(l,Math.abs(s-a[l]))}const x=new Set,F=new Set;function T(n){A(n,1),n.m(b,w),o.set(n.key,n),w=n.first,u--}for(;t&&u;){const n=g[u-1],l=e[t-1],f=n.key,_=l.key;n===l?(w=n.first,t--,u--):M.has(_)?!o.has(f)||x.has(f)?T(n):F.has(_)?t--:S.get(f)>S.get(_)?(F.add(f),T(n)):(x.add(_),t--):(h(l,o),t--)}for(;t--;){const n=e[t];M.has(n.key)||h(n,o)}for(;u;)T(g[u-1]);return C(v),g}const I=()=>{};function H(e,c=0,r={}){let y=!1,d=null,i=null;const o=r.before||I,b=r.after||I;function h(){return d!==null?(clearTimeout(d),d=null,!0):!1}function p(){h()&&(i=null),y=!1}function w(){i!==null&&(i(),i=null),p()}const m=function(...u){const s=this;function a(){e.apply(s,u),b()}y||(y=!0,o()),i=a,h(),d=setTimeout(a,c)};return m.cancel=p,m.flush=w,m}export{D as a,H as d,B as e,E as f,j as o,G as u};
